{"ast":null,"code":"import { Store } from '@ngrx/store';\nimport * as PostsActions from \"../store/actions\";\nimport { itemsSelector } from '../store/selectors';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@ngrx/store\";\nimport * as i2 from \"@angular/common\";\nfunction CalculatorComponent_li_5_a_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"a\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const item_r1 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", item_r1.value, \" \");\n  }\n}\nfunction CalculatorComponent_li_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\");\n    i0.ɵɵtemplate(1, CalculatorComponent_li_5_a_1_Template, 2, 1, \"a\", 12);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const items_r2 = ctx.ngForOf;\n    const i_r3 = ctx.index;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", i_r3 > items_r2.length - 4);\n  }\n}\nexport class CalculatorComponent {\n  constructor(store) {\n    this.store = store;\n    //\n    this.display = '0';\n    this.firstNumber = null;\n    this.secondNumber = null;\n    this.minusOperator = false;\n    this.changedNewNumber = false;\n    this.newNumber = '0';\n    this.action = null;\n    this.items$ = this.store.select(itemsSelector);\n  }\n  ngOnInit() {\n    this.store.dispatch(PostsActions.getCalculatorData());\n  }\n  numClick(number) {\n    this.newNumber === '0' ? this.newNumber = number : this.newNumber += number;\n    this.changedNewNumber = true;\n    if (this.action) {\n      this.display = `${this.display}${number}`;\n    } else {\n      this.display = this.newNumber;\n    }\n  }\n  pressOperator(action) {\n    if (this.firstNumber === null && this.changedNewNumber) {\n      this.firstNumber = Number(this.newNumber);\n      this.newNumber = '0';\n      this.changedNewNumber = false;\n    } else if (this.secondNumber === null && this.action !== null && this.changedNewNumber) {\n      this.setSecondNumber();\n      this.changedNewNumber = false;\n    }\n    if (this.action === null) {\n      this.action = action;\n      this.display = `${this.display}${action}`;\n    }\n    if (this.action === '*' || this.action === '÷') {\n      if (action === '-') {\n        this.display = `${this.display}${action}`;\n        this.minusOperator = true;\n      }\n    }\n    if (this.firstNumber !== null && this.secondNumber !== null && this.action !== null) {\n      this.doCalculation(action);\n    }\n  }\n  setSecondNumber() {\n    if (this.minusOperator) {\n      this.secondNumber = Number(this.newNumber) * -1;\n      this.minusOperator = false;\n    } else {\n      this.secondNumber = Number(this.newNumber);\n    }\n    this.newNumber = '0';\n  }\n  doCalculation(nextAction) {\n    if (nextAction === '=') {\n      this.setSecondNumber();\n      nextAction = '';\n    }\n    const a = this.firstNumber;\n    const b = this.secondNumber;\n    if (a !== null && b !== null) {\n      let result = 0;\n      if (this.action === '*') {\n        result = a * b;\n      } else if (this.action === '÷') {\n        result = a / b;\n      } else if (this.action === '+') {\n        result = a + b;\n      } else if (this.action === '-') {\n        result = a - b;\n      }\n      result = +result.toFixed(10);\n      this.display = result.toString() + nextAction;\n      this.firstNumber = result;\n      this.secondNumber = null;\n      this.changedNewNumber = false;\n      const value = {\n        id: Math.random(),\n        value: result.toString()\n      };\n      this.store.dispatch(PostsActions.addItem({\n        item: value\n      }));\n    }\n    if (nextAction === '') {\n      this.action = null;\n    } else {\n      this.action = nextAction;\n    }\n  }\n  setDecimalPoint() {\n    if (!this.newNumber.includes('.')) {\n      this.newNumber += '.';\n      this.display = `${this.display}${'.'}`;\n    }\n  }\n  setMinusOperator() {\n    this.firstNumber = Number(this.newNumber);\n    this.newNumber = '0';\n    if (this.action === null && this.secondNumber === null && this.firstNumber !== null) {\n      this.firstNumber = this.firstNumber * -1;\n      this.display = this.firstNumber.toString();\n      this.changedNewNumber = false;\n    }\n  }\n  resetValues() {\n    this.action = null;\n    this.firstNumber = null;\n    this.secondNumber = null;\n    this.newNumber = '';\n    this.display = '0';\n    this.changedNewNumber = false;\n  }\n}\nCalculatorComponent.ɵfac = function CalculatorComponent_Factory(t) {\n  return new (t || CalculatorComponent)(i0.ɵɵdirectiveInject(i1.Store));\n};\nCalculatorComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: CalculatorComponent,\n  selectors: [[\"calculator\"]],\n  decls: 52,\n  vars: 4,\n  consts: [[1, \"container\"], [1, \"calculator\"], [1, \"interface\"], [1, \"history\"], [4, \"ngFor\", \"ngForOf\"], [1, \"result\"], [1, \"keyboard\"], [1, \"section-up\"], [\"type\", \"button\", 1, \"all-clear\", 3, \"click\"], [\"type\", \"button\", 3, \"click\"], [1, \"section-2\"], [\"type\", \"button\", 1, \"equalOperator\", 3, \"click\"], [4, \"ngIf\"]],\n  template: function CalculatorComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"ul\");\n      i0.ɵɵtemplate(5, CalculatorComponent_li_5_Template, 2, 1, \"li\", 4);\n      i0.ɵɵpipe(6, \"async\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(7, \"div\", 5)(8, \"p\");\n      i0.ɵɵtext(9);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(10, \"div\", 6)(11, \"div\", 7)(12, \"button\", 8);\n      i0.ɵɵlistener(\"click\", function CalculatorComponent_Template_button_click_12_listener() {\n        return ctx.resetValues();\n      });\n      i0.ɵɵtext(13, \"AC\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(14, \"button\", 9);\n      i0.ɵɵlistener(\"click\", function CalculatorComponent_Template_button_click_14_listener() {\n        return ctx.setMinusOperator();\n      });\n      i0.ɵɵtext(15, \"+/-\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(16, \"div\", 10)(17, \"button\", 9);\n      i0.ɵɵlistener(\"click\", function CalculatorComponent_Template_button_click_17_listener() {\n        return ctx.numClick(\"7\");\n      });\n      i0.ɵɵtext(18, \"7\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(19, \"button\", 9);\n      i0.ɵɵlistener(\"click\", function CalculatorComponent_Template_button_click_19_listener() {\n        return ctx.numClick(\"8\");\n      });\n      i0.ɵɵtext(20, \"8\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(21, \"button\", 9);\n      i0.ɵɵlistener(\"click\", function CalculatorComponent_Template_button_click_21_listener() {\n        return ctx.numClick(\"9\");\n      });\n      i0.ɵɵtext(22, \"9\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(23, \"button\", 9);\n      i0.ɵɵlistener(\"click\", function CalculatorComponent_Template_button_click_23_listener() {\n        return ctx.pressOperator(\"\\u00F7\");\n      });\n      i0.ɵɵtext(24, \"\\u00F7\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(25, \"div\", 10)(26, \"button\", 9);\n      i0.ɵɵlistener(\"click\", function CalculatorComponent_Template_button_click_26_listener() {\n        return ctx.numClick(\"4\");\n      });\n      i0.ɵɵtext(27, \"4\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(28, \"button\", 9);\n      i0.ɵɵlistener(\"click\", function CalculatorComponent_Template_button_click_28_listener() {\n        return ctx.numClick(\"5\");\n      });\n      i0.ɵɵtext(29, \"5\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(30, \"button\", 9);\n      i0.ɵɵlistener(\"click\", function CalculatorComponent_Template_button_click_30_listener() {\n        return ctx.numClick(\"6\");\n      });\n      i0.ɵɵtext(31, \"6\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(32, \"button\", 9);\n      i0.ɵɵlistener(\"click\", function CalculatorComponent_Template_button_click_32_listener() {\n        return ctx.pressOperator(\"*\");\n      });\n      i0.ɵɵtext(33, \"x\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(34, \"div\", 10)(35, \"button\", 9);\n      i0.ɵɵlistener(\"click\", function CalculatorComponent_Template_button_click_35_listener() {\n        return ctx.numClick(\"1\");\n      });\n      i0.ɵɵtext(36, \"1\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(37, \"button\", 9);\n      i0.ɵɵlistener(\"click\", function CalculatorComponent_Template_button_click_37_listener() {\n        return ctx.numClick(\"2\");\n      });\n      i0.ɵɵtext(38, \"2\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(39, \"button\", 9);\n      i0.ɵɵlistener(\"click\", function CalculatorComponent_Template_button_click_39_listener() {\n        return ctx.numClick(\"3\");\n      });\n      i0.ɵɵtext(40, \"3\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(41, \"button\", 9);\n      i0.ɵɵlistener(\"click\", function CalculatorComponent_Template_button_click_41_listener() {\n        return ctx.pressOperator(\"-\");\n      });\n      i0.ɵɵtext(42, \"-\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(43, \"div\", 10)(44, \"button\", 9);\n      i0.ɵɵlistener(\"click\", function CalculatorComponent_Template_button_click_44_listener() {\n        return ctx.numClick(\"0\");\n      });\n      i0.ɵɵtext(45, \"0\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(46, \"button\", 9);\n      i0.ɵɵlistener(\"click\", function CalculatorComponent_Template_button_click_46_listener() {\n        return ctx.setDecimalPoint();\n      });\n      i0.ɵɵtext(47, \".\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(48, \"button\", 11);\n      i0.ɵɵlistener(\"click\", function CalculatorComponent_Template_button_click_48_listener() {\n        return ctx.doCalculation(\"=\");\n      });\n      i0.ɵɵtext(49, \"=\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(50, \"button\", 9);\n      i0.ɵɵlistener(\"click\", function CalculatorComponent_Template_button_click_50_listener() {\n        return ctx.pressOperator(\"+\");\n      });\n      i0.ɵɵtext(51, \"+\");\n      i0.ɵɵelementEnd()()()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(6, 2, ctx.items$));\n      i0.ɵɵadvance(4);\n      i0.ɵɵtextInterpolate(ctx.display);\n    }\n  },\n  dependencies: [i2.NgForOf, i2.NgIf, i2.AsyncPipe],\n  styles: [\"li[_ngcontent-%COMP%]{\\r\\n  list-style-type: none;\\r\\n}\\r\\n.calculator[_ngcontent-%COMP%] {\\r\\n  background-color: #f8f8f8;\\r\\n  border: 2px solid #a1a1a1;\\r\\n  max-width: 300px;\\r\\n}\\r\\n.interface[_ngcontent-%COMP%] {\\r\\n  width: 90%;\\r\\n  margin: 0 auto;\\r\\n  margin-bottom: 15px;\\r\\n}\\r\\n.interface[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {\\r\\n  font-size: 20px;\\r\\n  margin: 5px 3px;\\r\\n}\\r\\n.history[_ngcontent-%COMP%] {\\r\\n  width: 100%;\\r\\n  border: 2px solid #a1a1a1;\\r\\n  text-align: right;\\r\\n  margin-top: 15px;\\r\\n  background-color: #fdfdfd;\\r\\n}\\r\\n.result[_ngcontent-%COMP%] {\\r\\n  text-align: right;\\r\\n  margin: 25px 0;\\r\\n  border: 2px solid #a1a1a1;\\r\\n}\\r\\n.keyboard[_ngcontent-%COMP%] {\\r\\n  display: flex;\\r\\n  flex-wrap: wrap;\\r\\n}\\r\\n.section[_ngcontent-%COMP%] {\\r\\n  width: 25%;\\r\\n  \\r\\n  display: flex;\\r\\n  justify-content: center;\\r\\n}\\r\\n.section-2[_ngcontent-%COMP%] {\\r\\n  margin-top: 15px;\\r\\n  width: 100%;\\r\\n  display: flex;\\r\\n  justify-content: space-around;\\r\\n}\\r\\n.section-up[_ngcontent-%COMP%] {\\r\\n  width: 100%;\\r\\n  display: flex;\\r\\n  justify-content: center;\\r\\n}\\r\\n.section[_ngcontent-%COMP%] {\\r\\n  margin-top: 20px;\\r\\n}\\r\\n.equalOperator[_ngcontent-%COMP%] {\\r\\nbackground-color: #2e86c0;\\r\\n  border-color: #337cac;\\r\\n  color: #fff;\\r\\n}\\r\\n.equalOperator[_ngcontent-%COMP%]:hover {\\r\\n  background-color: #4e9ed4;\\r\\n}\\r\\n.all-clear[_ngcontent-%COMP%] {\\r\\n  background-color: #f0595f;\\r\\n  border-color: #b0353a;\\r\\n  color: #fff;\\r\\n  margin-right: 50px;\\r\\n}\\r\\n.all-clear[_ngcontent-%COMP%]:hover {\\r\\n  background-color: #f17377;\\r\\n}\\r\\nbutton[_ngcontent-%COMP%] {\\r\\n  font-size: 20px;\\r\\n  height: 40px;\\r\\n  width: 40px;\\r\\n  border: 2px solid #a1a1a1;\\r\\n    box-shadow: inset 0 0 0 1px rgba(255, 255, 255, .05), inset 0 1px 0 0 rgba(255, 255, 255, .45), inset 0 -1px 0 0 rgba(255, 255, 255, .15), 0 1px 0 0 rgba(255, 255, 255, .15);\\r\\n      text-shadow: 0 1px rgba(255, 255, 255, .4);\\r\\n}\\r\\nbutton[_ngcontent-%COMP%]:hover {\\r\\n  background-color: #eaeaea;\\r\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNhbGN1bGF0b3IuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxlQUFlO0FBQ2Y7RUFDRSxxQkFBcUI7QUFDdkI7QUFDQTtFQUNFLHlCQUF5QjtFQUN6Qix5QkFBeUI7RUFDekIsZ0JBQWdCO0FBQ2xCO0FBRUE7RUFDRSxVQUFVO0VBQ1YsY0FBYztFQUNkLG1CQUFtQjtBQUNyQjtBQUVBO0VBQ0UsZUFBZTtFQUNmLGVBQWU7QUFDakI7QUFFQTtFQUNFLFdBQVc7RUFDWCx5QkFBeUI7RUFDekIsaUJBQWlCO0VBQ2pCLGdCQUFnQjtFQUNoQix5QkFBeUI7QUFDM0I7QUFFQTtFQUNFLGlCQUFpQjtFQUNqQixjQUFjO0VBQ2QseUJBQXlCO0FBQzNCO0FBRUE7RUFDRSxhQUFhO0VBQ2IsZUFBZTtBQUNqQjtBQUVBO0VBQ0UsVUFBVTtFQUNWLDJCQUEyQjtFQUMzQixhQUFhO0VBQ2IsdUJBQXVCO0FBQ3pCO0FBRUE7RUFDRSxnQkFBZ0I7RUFDaEIsV0FBVztFQUNYLGFBQWE7RUFDYiw2QkFBNkI7QUFDL0I7QUFFQTtFQUNFLFdBQVc7RUFDWCxhQUFhO0VBQ2IsdUJBQXVCO0FBQ3pCO0FBRUE7RUFDRSxnQkFBZ0I7QUFDbEI7QUFFQTtBQUNBLHlCQUF5QjtFQUN2QixxQkFBcUI7RUFDckIsV0FBVztBQUNiO0FBRUE7RUFDRSx5QkFBeUI7QUFDM0I7QUFDQTtFQUNFLHlCQUF5QjtFQUN6QixxQkFBcUI7RUFDckIsV0FBVztFQUNYLGtCQUFrQjtBQUNwQjtBQUVBO0VBQ0UseUJBQXlCO0FBQzNCO0FBRUE7RUFDRSxlQUFlO0VBQ2YsWUFBWTtFQUNaLFdBQVc7RUFDWCx5QkFBeUI7SUFDdkIsNktBQTZLO01BQzNLLDBDQUEwQztBQUNoRDtBQUVBO0VBQ0UseUJBQXlCO0FBQzNCIiwiZmlsZSI6ImNhbGN1bGF0b3IuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi8qIGNhbGN1bGF0b3IgKi9cclxubGl7XHJcbiAgbGlzdC1zdHlsZS10eXBlOiBub25lO1xyXG59XHJcbi5jYWxjdWxhdG9yIHtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjhmOGY4O1xyXG4gIGJvcmRlcjogMnB4IHNvbGlkICNhMWExYTE7XHJcbiAgbWF4LXdpZHRoOiAzMDBweDtcclxufVxyXG5cclxuLmludGVyZmFjZSB7XHJcbiAgd2lkdGg6IDkwJTtcclxuICBtYXJnaW46IDAgYXV0bztcclxuICBtYXJnaW4tYm90dG9tOiAxNXB4O1xyXG59XHJcblxyXG4uaW50ZXJmYWNlIHAge1xyXG4gIGZvbnQtc2l6ZTogMjBweDtcclxuICBtYXJnaW46IDVweCAzcHg7XHJcbn1cclxuXHJcbi5oaXN0b3J5IHtcclxuICB3aWR0aDogMTAwJTtcclxuICBib3JkZXI6IDJweCBzb2xpZCAjYTFhMWExO1xyXG4gIHRleHQtYWxpZ246IHJpZ2h0O1xyXG4gIG1hcmdpbi10b3A6IDE1cHg7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZkZmRmZDtcclxufVxyXG5cclxuLnJlc3VsdCB7XHJcbiAgdGV4dC1hbGlnbjogcmlnaHQ7XHJcbiAgbWFyZ2luOiAyNXB4IDA7XHJcbiAgYm9yZGVyOiAycHggc29saWQgI2ExYTFhMTtcclxufVxyXG5cclxuLmtleWJvYXJkIHtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGZsZXgtd3JhcDogd3JhcDtcclxufVxyXG5cclxuLnNlY3Rpb24ge1xyXG4gIHdpZHRoOiAyNSU7XHJcbiAgLyogYm9yZGVyOiAxcHggc29saWQgcmVkOyAqL1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbn1cclxuXHJcbi5zZWN0aW9uLTIge1xyXG4gIG1hcmdpbi10b3A6IDE1cHg7XHJcbiAgd2lkdGg6IDEwMCU7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWFyb3VuZDtcclxufVxyXG5cclxuLnNlY3Rpb24tdXAge1xyXG4gIHdpZHRoOiAxMDAlO1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbn1cclxuXHJcbi5zZWN0aW9uIHtcclxuICBtYXJnaW4tdG9wOiAyMHB4O1xyXG59XHJcblxyXG4uZXF1YWxPcGVyYXRvciB7XHJcbmJhY2tncm91bmQtY29sb3I6ICMyZTg2YzA7XHJcbiAgYm9yZGVyLWNvbG9yOiAjMzM3Y2FjO1xyXG4gIGNvbG9yOiAjZmZmO1xyXG59XHJcblxyXG4uZXF1YWxPcGVyYXRvcjpob3ZlciB7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogIzRlOWVkNDtcclxufVxyXG4uYWxsLWNsZWFyIHtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjA1OTVmO1xyXG4gIGJvcmRlci1jb2xvcjogI2IwMzUzYTtcclxuICBjb2xvcjogI2ZmZjtcclxuICBtYXJnaW4tcmlnaHQ6IDUwcHg7XHJcbn1cclxuXHJcbi5hbGwtY2xlYXI6aG92ZXIge1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICNmMTczNzc7XHJcbn1cclxuXHJcbmJ1dHRvbiB7XHJcbiAgZm9udC1zaXplOiAyMHB4O1xyXG4gIGhlaWdodDogNDBweDtcclxuICB3aWR0aDogNDBweDtcclxuICBib3JkZXI6IDJweCBzb2xpZCAjYTFhMWExO1xyXG4gICAgYm94LXNoYWRvdzogaW5zZXQgMCAwIDAgMXB4IHJnYmEoMjU1LCAyNTUsIDI1NSwgLjA1KSwgaW5zZXQgMCAxcHggMCAwIHJnYmEoMjU1LCAyNTUsIDI1NSwgLjQ1KSwgaW5zZXQgMCAtMXB4IDAgMCByZ2JhKDI1NSwgMjU1LCAyNTUsIC4xNSksIDAgMXB4IDAgMCByZ2JhKDI1NSwgMjU1LCAyNTUsIC4xNSk7XHJcbiAgICAgIHRleHQtc2hhZG93OiAwIDFweCByZ2JhKDI1NSwgMjU1LCAyNTUsIC40KTtcclxufVxyXG5cclxuYnV0dG9uOmhvdmVyIHtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZWFlYWVhO1xyXG59XHJcbiJdfQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["Store","PostsActions","itemsSelector","i0","CalculatorComponent","constructor","store","select","ngOnInit","dispatch","getCalculatorData","numClick","number","newNumber","changedNewNumber","action","display","pressOperator","firstNumber","Number","secondNumber","setSecondNumber","minusOperator","doCalculation","nextAction","a","b","result","toFixed","toString","value","id","Math","random","addItem","item","setDecimalPoint","includes","setMinusOperator","resetValues","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\xampp\\htdocs\\calculatorNgrx\\calculatorNgrx\\src\\app\\calculator\\calculator\\calculator.component.ts","C:\\xampp\\htdocs\\calculatorNgrx\\calculatorNgrx\\src\\app\\calculator\\calculator\\calculator.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { select, Store } from '@ngrx/store';\nimport { Observable } from 'rxjs';\nimport { AppStateInterface } from '../interfaces/appState.interface';\nimport { Item } from '../interfaces/item.interface';\nimport * as PostsActions from \"../store/actions\"\nimport { isLoadingSelector, itemsSelector } from '../store/selectors';\n\n\n@Component({\n  selector: 'calculator',\n  templateUrl: './calculator.component.html',\n  styleUrls: ['./calculator.component.css']\n})\nexport class CalculatorComponent implements OnInit {\n  //\n  display = '0';\n  firstNumber: number | null = null;\n  secondNumber: number | null = null;\n  minusOperator: boolean = false;\n  changedNewNumber: boolean = false;\n  newNumber: string = '0';\n  action: string | null = null;\n\n  items$: Observable<Item[]> = this.store.select(itemsSelector)\n  constructor(private store: Store<AppStateInterface>) { }\n\n  ngOnInit(): void {\n    this.store.dispatch(PostsActions.getCalculatorData())\n  }\n\n  numClick(number: string): void {\n\n    this.newNumber === '0' ? this.newNumber = number : this.newNumber += number;\n\n    this.changedNewNumber = true;\n    if (this.action) {\n      this.display = `${this.display}${number}`;\n    } else {\n      this.display = this.newNumber\n    }\n  }\n\n  pressOperator(action: string): void {\n\n    if (this.firstNumber === null && this.changedNewNumber) {\n      this.firstNumber = Number(this.newNumber);\n      this.newNumber = '0'\n      this.changedNewNumber = false;\n    } else if (this.secondNumber === null && this.action !== null && this.changedNewNumber) {\n\n      this.setSecondNumber();\n      this.changedNewNumber = false;\n    }\n\n    if (this.action === null) {\n      this.action = action;\n      this.display = `${this.display}${action}`;\n    }\n\n    if (this.action === '*' || this.action === '÷') {\n      if (action === '-') {\n        this.display = `${this.display}${action}`;\n        this.minusOperator = true;\n      }\n    }\n\n    if (this.firstNumber !== null && this.secondNumber !== null && this.action !== null) {\n      this.doCalculation(action)\n    }\n  }\n\n  setSecondNumber(): void {\n    if (this.minusOperator) {\n      this.secondNumber = Number(this.newNumber) * (-1);\n      this.minusOperator = false;\n    } else {\n      this.secondNumber = Number(this.newNumber);\n    }\n    this.newNumber = '0'\n  }\n\n  doCalculation(nextAction: string): void {\n\n    if (nextAction === '=') {\n      this.setSecondNumber();\n      nextAction = ''\n    }\n\n    const a = this.firstNumber;\n    const b = this.secondNumber;\n\n    if (a !== null && b !== null) {\n\n      let result = 0;\n      if (this.action === '*') {\n        result = a * b;\n      }\n      else if (this.action === '÷') {\n        result = a / b;\n      }\n      else if (this.action === '+') {\n        result = a + b;\n      }\n      else if (this.action === '-') {\n        result = a - b;\n      }\n\n      result = +(result).toFixed(10);\n\n      this.display = result.toString() + nextAction;\n      this.firstNumber = result;\n      this.secondNumber = null;\n      this.changedNewNumber = false;\n\n      const value: Item = { id: Math.random(), value: result.toString() };\n      this.store.dispatch(PostsActions.addItem({ item: value }))\n    }\n\n    if (nextAction === '') {\n      this.action = null;\n    } else {\n      this.action = nextAction;\n    }\n  }\n\n  setDecimalPoint(): void {\n    if (!this.newNumber.includes('.')) {\n      this.newNumber += '.';\n      this.display = `${this.display}${'.'}`;\n    }\n  }\n\n  setMinusOperator(): void {\n    this.firstNumber = Number(this.newNumber);\n    this.newNumber = '0';\n\n    if (this.action === null && this.secondNumber === null && this.firstNumber !== null) {\n      this.firstNumber = this.firstNumber * (-1);\n      this.display = this.firstNumber.toString();\n      this.changedNewNumber = false;\n    }\n  }\n\n  resetValues(): void {\n    this.action = null;\n    this.firstNumber = null;\n    this.secondNumber = null;\n    this.newNumber = '';\n    this.display = '0'\n    this.changedNewNumber = false;\n  }\n\n}\n","<div class=\"container\">\n  <div class=\"calculator\">\n    <div class=\"interface\">\n\n      <div class=\"history\">\n        <ul>\n          <li *ngFor=\"let item of items$ | async as items; let i = index\">\n            <a *ngIf=\"i > items.length-4\">\n              {{item.value}}\n            </a>\n          </li>\n        </ul>\n      </div>\n\n      <div class=\"result\">\n        <p>{{display}}</p>\n      </div>\n\n      <div class=\"keyboard\">\n\n        <!-- 0 row -->\n        <div class=\"section-up\">\n          <button type=\"button\" class=\"all-clear\" (click)=\"resetValues()\">AC</button>\n          <button type=\"button\" (click)=\"setMinusOperator()\">+/-</button>\n        </div>\n\n        <!-- 1 row -->\n        <div class=\"section-2\">\n          <button type=\"button\" (click)=\"numClick('7')\">7</button>\n          <button type=\"button\" (click)=\"numClick('8')\">8</button>\n          <button type=\"button\" (click)=\"numClick('9')\">9</button>\n          <button type=\"button\" (click)=\"pressOperator('÷')\">÷</button>\n        </div>\n\n        <!-- 2 row -->\n        <div class=\"section-2\">\n          <button type=\"button\" (click)=\"numClick('4')\">4</button>\n          <button type=\"button\" (click)=\"numClick('5')\">5</button>\n          <button type=\"button\" (click)=\"numClick('6')\">6</button>\n          <button type=\"button\" (click)=\"pressOperator('*')\">x</button>\n        </div>\n\n        <!-- 3 row -->\n        <div class=\"section-2\">\n          <button type=\"button\" (click)=\"numClick('1')\">1</button>\n          <button type=\"button\" (click)=\"numClick('2')\">2</button>\n          <button type=\"button\" (click)=\"numClick('3')\">3</button>\n          <button type=\"button\" (click)=\"pressOperator('-')\">-</button>\n        </div>\n\n        <!-- 4 row -->\n        <div class=\"section-2\">\n          <button type=\"button\" (click)=\"numClick('0')\">0</button>\n          <button type=\"button\" (click)=\"setDecimalPoint()\">.</button>\n          <button type=\"button\" class=\"equalOperator\" (click)=\"doCalculation('=')\">=</button>\n          <button type=\"button\" (click)=\"pressOperator('+')\">+</button>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n"]},"metadata":{},"sourceType":"module"}